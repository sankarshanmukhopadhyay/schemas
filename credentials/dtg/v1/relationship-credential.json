{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://raw.githubusercontent.com/sankarshanmukhopadhyay/schemas/v0.2.0/credentials/dtg/v1/relationship-credential.json",
  "$credentialContext": [
    "https://www.w3.org/ns/credentials/v2",
    "https://firstperson.network/credentials/dtg/v1",
    "https://w3id.org/security/suites/ed25519-2020/v1"
  ],
  "$credentialType": [
    "VerifiableCredential",
    "DTGCredential",
    "RelationshipCredential"
  ],
  "title": "VRC (Relationship Credential)",
  "type": "object",
  "properties": {
    "from": {
      "type": "string",
      "description": "DID of the source node.",
      "pattern": "^did:[a-z0-9]+:[A-Za-z0-9.\\-_:%]+$"
    },
    "to": {
      "type": "string",
      "description": "DID of the target node.",
      "pattern": "^did:[a-z0-9]+:[A-Za-z0-9.\\-_:%]+$"
    },
    "relationshipType": {
      "type": "string",
      "description": "Type of relationship (controlled vocabulary recommended)."
    },
    "context": {
      "type": "string",
      "description": "Governance or domain context for this relationship (DID or URI)."
    },
    "scope": {
      "type": "object",
      "description": "Optional constraints (e.g., domains/regions/purposes) under which this edge is valid."
    },
    "edgeId": {
      "type": "string",
      "description": "Stable identifier for this directed edge (e.g., hash of from/to/type/context)."
    },
    "effectiveFrom": {
      "type": "string",
      "description": "RFC3339 timestamp when this relationship becomes effective.",
      "format": "date-time"
    },
    "effectiveUntil": {
      "type": "string",
      "description": "RFC3339 timestamp when this relationship expires (optional).",
      "format": "date-time"
    }
  },
  "description": "Creates a directed trust edge between two nodes. Two VRCs (one each direction) form a complete DTG edge.",
  "required": [
    "from",
    "to",
    "relationshipType",
    "effectiveFrom"
  ]
}

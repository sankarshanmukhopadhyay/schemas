{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://raw.githubusercontent.com/sankarshanmukhopadhyay/schemas/v0.2.0/credentials/dtg/v1/witness-credential.json",
  "$credentialContext": [
    "https://www.w3.org/ns/credentials/v2",
    "https://firstperson.network/credentials/dtg/v1",
    "https://w3id.org/security/suites/ed25519-2020/v1"
  ],
  "$credentialType": [
    "VerifiableCredential",
    "DTGCredential",
    "WitnessCredential"
  ],
  "title": "VWC (Witness Credential)",
  "type": "object",
  "properties": {
    "witness": {
      "type": "string",
      "description": "DID of the witnessing party.",
      "pattern": "^did:[a-z0-9]+:[A-Za-z0-9.\\-_:%]+$"
    },
    "witnessedEdge": {
      "type": "string",
      "description": "Identifier of the witnessed edge/relationship (e.g., edgeId or relationship credential DID)."
    },
    "event": {
      "type": "string",
      "description": "Event type or label that was witnessed."
    },
    "sessionId": {
      "type": "string",
      "description": "Session or ceremony identifier under which witnessing occurred."
    },
    "method": {
      "type": "string",
      "description": "Witnessing method used.",
      "enum": [
        "protocolCeremony",
        "auditLog",
        "outOfBandVerification",
        "attestedByPolicy"
      ]
    },
    "evidence": {
      "type": "array",
      "description": "Optional evidence references (URIs or DIDs).",
      "items": {
        "type": "string"
      }
    },
    "timestamp": {
      "type": "string",
      "description": "RFC3339 timestamp when the witness attestation was made.",
      "format": "date-time"
    }
  },
  "description": "Third-party attestation that an edge was established under specific conditions.",
  "required": [
    "witness",
    "witnessedEdge",
    "event",
    "method",
    "timestamp"
  ]
}
